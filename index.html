<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>D3.JS互動式資料視覺化</title>
    
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <link rel="stylesheet" href="main.css">
    
</head>

<body>
  <h1>D3.JS互動式資料視覺化-20170716</h1>
  <hr>
  <h2>作業一-亂數產生</h2>
  <p>1993</p>
  <input type="button" onclick="launch()" value="Start">
  <script>
    var random = function random(n, m) {
        console.log(n, m);
        return Math.floor(Math.random() * (m - n + 1) + n);
        
    }
    function launch(){
        d3.select('p').text(random(1911, 2016));
        
    }
    </script>
  <hr>
    <h2>作業二-五線譜圖</h2>
    <script>
        
        d3.select("body")
          .append("svg")
          .attr({
           width: 300,
           height: 200,
           id: "svg2"
          });
        
        var svg2 = d3.select("#svg2")
        svg2.append("rect")
            .attr({
                width: 300,
                height: 200,
            "fill": "#FDF5E6",
         });
        
        svg2.append("circle")
            .attr({
             cx: 150,
             cy: 120,
              r: 15 
        });
        
        svg2.append("rect")
            .attr({
             x:160,
             y:45,
             width:5,
             height:78
        });
    for(i=0;i<5;i=i+1){svg2.append("line")
            .attr({
                x1: 0,
                y1: 45+i*30,
                x2: 300,
                y2: 45+i*30,
                stroke: "black",
                "stroke-width": 2
                
            });
                }
        svg2.append("text")
        .attr({
            "x": 160,
            "y": 200,
            "font-size": 48,
            "text-anchor": "end"
            
        }).text("A");
        
    </script>
    <hr>
       <h2>作業三-橫條圖</h2>
<!--  ///bar chart-->
    <svg width="400" height="300" id="svg3"></svg>
    <script> 
        var svg3 = d3.select("#svg3");
        
        for (var i = 0; i < 20; i++){
        var thisNum = random(20, 300);
            svg3.append("rect")
                .attr({
                    x: 10,
                    y: 10 + 12 * i,
                    width: thisNum,
                    height: 10,
                    fill: "orange"
                });
            svg3.append("text")
                .attr({
                    x: thisNum + 15,
                    y: 20 + 12 * i,
                    "font-size": 12
                }).text(thisNum);
        }
        
    </script>
    <hr>
    <h2>作業四-折線圖</h2>
    <svg width="400" height="300" id="svg4"></svg>
          
           <script>
            var svg4 = d3.select("#svg4");
            var lastNum = 0;
            var points = "10,10 ";
               
            for (var i = 0; i < 20; i++) {
                 var thisNum = random(20, 300);
                       
                points = points + (10 + thisNum) + "," + (10 + 12 * (i + 1)) + " ";
                
            svg4.append("circle")
                .attr({
                cx: 10 + thisNum,
                cy: 10 + 12 * (i + 1),
                r:  3,
                fill: "blue"
        });
            svg4.append("text")
                .attr({
                    x: thisNum + 15,
                    y: 20 + 12 * i,
                    "font-size": 12
            }).text(thisNum);
                lastNum = thisNum;
            
        }
        
            points = points + "10," + (21 * 12 + 10);
            svg4.append("polyline")
                .attr({
                    "points": points,
                    "stroke": "black",
                    "fill": "#4178e2"
            });
        
    </script>
</body>
</html>